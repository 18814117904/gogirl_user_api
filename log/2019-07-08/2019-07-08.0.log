2019-07-08 03:00:00,056 INFO (CouponService.java:190)- 每天定时任务,判断优惠券是否过期
2019-07-08 03:00:05,104 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@b486a6a (No operations allowed after connection closed.)
2019-07-08 03:00:10,112 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@758393e2 (No operations allowed after connection closed.)
2019-07-08 03:00:15,118 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@48d99871 (No operations allowed after connection closed.)
2019-07-08 03:00:20,126 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@5aa78aaf (No operations allowed after connection closed.)
2019-07-08 03:00:25,133 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@baf70f5 (No operations allowed after connection closed.)
2019-07-08 03:00:30,136 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@4e5718c2 (No operations allowed after connection closed.)
2019-07-08 09:17:53,431 INFO (CustomerCotroller.java:365)- 获取用户信息openid:o7112v0qdTRxqTk7ABNIhAjYSEEU
2019-07-08 09:17:58,448 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@598359a9 (No operations allowed after connection closed.)
2019-07-08 09:18:03,459 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@e0ee332 (No operations allowed after connection closed.)
2019-07-08 09:18:08,507 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@d483fc (No operations allowed after connection closed.)
2019-07-08 09:18:13,515 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@31bffaa3 (No operations allowed after connection closed.)
2019-07-08 09:18:18,522 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@45a445dc (No operations allowed after connection closed.)
2019-07-08 09:18:23,529 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@614be5f7 (No operations allowed after connection closed.)
2019-07-08 09:18:23,565 ERROR (DirectJDKLog.java:182)- Servlet.service() for servlet [dispatcherServlet] in context with path [/gogirl_user] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30092ms.
### The error may exist in file [E:\Workspaces\gogirl_user\target\classes\mapper\CustomerMapper.xml]
### The error may involve com.gogirl.gogirl_user.dao.CustomerMapper.selectByOpenid
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30092ms.] with root cause
com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: No operations allowed after connection closed.
	at sun.reflect.GeneratedConstructorAccessor67.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:919)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:898)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:887)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:861)
	at com.mysql.jdbc.ConnectionImpl.throwConnectionClosedException(ConnectionImpl.java:1184)
	at com.mysql.jdbc.ConnectionImpl.checkClosed(ConnectionImpl.java:1179)
	at com.mysql.jdbc.ConnectionImpl.setNetworkTimeout(ConnectionImpl.java:5483)
	at com.zaxxer.hikari.pool.PoolBase.setNetworkTimeout(PoolBase.java:541)
	at com.zaxxer.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:162)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:172)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:148)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:151)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:115)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:78)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:68)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:336)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:84)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:143)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at com.sun.proxy.$Proxy97.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:148)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:141)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:77)
	at sun.reflect.GeneratedMethodAccessor65.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:433)
	at com.sun.proxy.$Proxy65.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:166)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:82)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:59)
	at com.sun.proxy.$Proxy66.selectByOpenid(Unknown Source)
	at com.gogirl.gogirl_user.service.CustomerService.selectByOpenid(CustomerService.java:193)
	at com.gogirl.gogirl_user.controller.CustomerCotroller.getCustomerByOpenid(CustomerCotroller.java:367)
	at sun.reflect.GeneratedMethodAccessor248.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-07-08 09:18:46,387 INFO (CustomerCotroller.java:365)- 获取用户信息openid:o7112v0qdTRxqTk7ABNIhAjYSEEU
2019-07-08 09:18:46,398 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select id, openid, phone, nickname, password, sex, country, province, city, headimgurl,customer_source, privilege, state, register_time, update_time, real_name, birthday, register_department, source, scheduled_times,order_times, store_record_real_name, remark,remark2,remark3,remark4,responsible_person,data_integrity from customer where openid = ? 
2019-07-08 09:18:46,400 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: o7112v0qdTRxqTk7ABNIhAjYSEEU(String)
2019-07-08 09:18:46,416 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 09:25:22,560 INFO (CustomerCotroller.java:365)- 获取用户信息openid:o7112v0qdTRxqTk7ABNIhAjYSEEU
2019-07-08 09:25:27,563 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@6a182332 (No operations allowed after connection closed.)
2019-07-08 09:25:32,571 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@4ed33193 (No operations allowed after connection closed.)
2019-07-08 09:25:37,586 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@12a2b037 (No operations allowed after connection closed.)
2019-07-08 09:25:42,592 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@68d0379d (No operations allowed after connection closed.)
2019-07-08 09:25:47,598 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@468542ec (No operations allowed after connection closed.)
2019-07-08 09:25:52,601 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@2824da75 (No operations allowed after connection closed.)
2019-07-08 09:25:52,604 ERROR (DirectJDKLog.java:182)- Servlet.service() for servlet [dispatcherServlet] in context with path [/gogirl_user] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30039ms.
### The error may exist in file [E:\Workspaces\gogirl_user\target\classes\mapper\CustomerMapper.xml]
### The error may involve com.gogirl.gogirl_user.dao.CustomerMapper.selectByOpenid
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30039ms.] with root cause
com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: No operations allowed after connection closed.
	at sun.reflect.GeneratedConstructorAccessor67.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:919)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:898)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:887)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:861)
	at com.mysql.jdbc.ConnectionImpl.throwConnectionClosedException(ConnectionImpl.java:1184)
	at com.mysql.jdbc.ConnectionImpl.checkClosed(ConnectionImpl.java:1179)
	at com.mysql.jdbc.ConnectionImpl.setNetworkTimeout(ConnectionImpl.java:5483)
	at com.zaxxer.hikari.pool.PoolBase.setNetworkTimeout(PoolBase.java:541)
	at com.zaxxer.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:162)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:172)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:148)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:151)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:115)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:78)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:68)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:336)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:84)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:143)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at com.sun.proxy.$Proxy97.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:148)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:141)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:77)
	at sun.reflect.GeneratedMethodAccessor65.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:433)
	at com.sun.proxy.$Proxy65.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:166)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:82)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:59)
	at com.sun.proxy.$Proxy66.selectByOpenid(Unknown Source)
	at com.gogirl.gogirl_user.service.CustomerService.selectByOpenid(CustomerService.java:193)
	at com.gogirl.gogirl_user.controller.CustomerCotroller.getCustomerByOpenid(CustomerCotroller.java:367)
	at sun.reflect.GeneratedMethodAccessor248.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-07-08 09:25:53,610 INFO (CustomerCotroller.java:365)- 获取用户信息openid:o7112v0qdTRxqTk7ABNIhAjYSEEU
2019-07-08 09:25:58,617 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@555cb17b (No operations allowed after connection closed.)
2019-07-08 09:26:03,622 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@7624023c (No operations allowed after connection closed.)
2019-07-08 09:26:08,625 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@4ac3dcd6 (No operations allowed after connection closed.)
2019-07-08 09:26:13,628 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@6c7e9f1c (No operations allowed after connection closed.)
2019-07-08 09:26:13,639 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select id, openid, phone, nickname, password, sex, country, province, city, headimgurl,customer_source, privilege, state, register_time, update_time, real_name, birthday, register_department, source, scheduled_times,order_times, store_record_real_name, remark,remark2,remark3,remark4,responsible_person,data_integrity from customer where openid = ? 
2019-07-08 09:26:13,640 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: o7112v0qdTRxqTk7ABNIhAjYSEEU(String)
2019-07-08 09:26:13,652 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 09:27:22,973 INFO (CustomerCotroller.java:365)- 获取用户信息openid:o7112v0qdTRxqTk7ABNIhAjYSEEU
2019-07-08 09:27:22,996 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select id, openid, phone, nickname, password, sex, country, province, city, headimgurl,customer_source, privilege, state, register_time, update_time, real_name, birthday, register_department, source, scheduled_times,order_times, store_record_real_name, remark,remark2,remark3,remark4,responsible_person,data_integrity from customer where openid = ? 
2019-07-08 09:27:22,996 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: o7112v0qdTRxqTk7ABNIhAjYSEEU(String)
2019-07-08 09:27:23,014 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 09:27:24,318 INFO (CustomerCotroller.java:343)- 获取用户信息id:1736
2019-07-08 09:27:24,329 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select c.id, c.openid, c.phone, c. nickname, c. password, c. sex, c. country, c. province, c. city, c. headimgurl,c.customer_source, c. privilege, c. state, c. register_time, c. update_time, c. real_name, c. birthday, c. register_department, c. source, c. scheduled_times, c.order_times, c. store_record_real_name, c. remark, c.remark2, c.remark3, c.remark4,responsible_person,data_integrity, w.customer_id as wcustomer_id,w.id as wid, w.screen_name, w.name as wname, w.province as wprovince, w.city as wcity, w.location, w.description, w.url, w.profileImage_url, w.user_domain, w.gender, w.followers_count, w.friends_count, w.statuses_count, w.favourites_count, w.created_at, w.following, w.verified, w.verified_type, w.allow_all_act_asg, w.allow_all_comment, w.follow_me, w.avatar_large, w.online_status, w.bi_followers_count, w.remark, w.lang, w.verified_reason, w.weihao, w.status_id from customer c left join customer_weibo w on c.id=w.customer_id where c.id = ? 
2019-07-08 09:27:24,330 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 09:27:24,349 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 09:27:29,014 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select customer_id, balance, current_discount, first_charge_time, update_time, total_charge, total_bestow, total_expenditure, version, level,discount_rate from customer_balance cb where customer_id = ? 
2019-07-08 09:27:29,016 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 09:27:29,026 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select id, total_charge, charge_amount, bestow_amount, discount, level, remark from discount_config where id!=1 
2019-07-08 09:27:29,028 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 
2019-07-08 09:27:29,028 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 0
2019-07-08 09:27:29,029 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select id, total_charge, charge_amount, bestow_amount, discount, level, remark from discount_config where id = (select id from discount_config where ?>=total_charge order by total_charge desc limit 1) 
2019-07-08 09:27:29,030 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 0(Integer)
2019-07-08 09:27:29,040 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 3
2019-07-08 09:27:29,041 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 09:27:37,413 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 09:27:37,444 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 09:27:37,445 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 09:27:37,456 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 09:27:37,458 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 09:27:37,459 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 09:27:37,479 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 09:27:52,272 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 09:27:52,299 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 09:27:52,300 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 09:27:52,311 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 09:27:52,311 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 09:27:52,312 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 09:27:52,328 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 09:28:53,093 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 09:28:53,113 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 09:28:53,114 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 09:28:53,124 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 09:28:53,125 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 09:28:53,126 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 09:28:53,140 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 09:29:06,486 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 09:29:06,519 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 09:29:06,519 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 09:29:06,538 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 09:29:06,539 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 09:29:06,539 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 09:29:06,555 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 09:30:57,777 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 09:30:57,805 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 09:30:57,805 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 09:30:57,816 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 09:30:57,817 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 09:30:57,818 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 09:30:57,832 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 09:32:32,598 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 09:32:32,618 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 09:32:32,618 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 09:32:32,629 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 09:32:32,631 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 09:32:32,631 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 09:32:32,649 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 09:40:36,063 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 09:40:41,076 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@7f0452a8 (No operations allowed after connection closed.)
2019-07-08 09:40:46,082 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@210590f8 (No operations allowed after connection closed.)
2019-07-08 09:40:46,959 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 09:40:51,091 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@49f6722c (No operations allowed after connection closed.)
2019-07-08 09:40:51,972 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@624b03ae (No operations allowed after connection closed.)
2019-07-08 09:40:56,094 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@e28c763 (No operations allowed after connection closed.)
2019-07-08 09:40:56,979 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@66df802d (No operations allowed after connection closed.)
2019-07-08 09:41:01,097 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@3a7140e (No operations allowed after connection closed.)
2019-07-08 09:41:01,984 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@33ccff8 (No operations allowed after connection closed.)
2019-07-08 09:41:06,099 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@4046cd80 (No operations allowed after connection closed.)
2019-07-08 09:41:06,105 ERROR (DirectJDKLog.java:182)- Servlet.service() for servlet [dispatcherServlet] in context with path [/gogirl_user] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30025ms.
### The error may exist in file [E:\Workspaces\gogirl_user\target\classes\mapper\CouponCustomerRelevanceMapper.xml]
### The error may involve com.gogirl.gogirl_user.dao.CouponCustomerRelevanceMapper.selectMyCoupon_COUNT
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30025ms.] with root cause
com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: No operations allowed after connection closed.
	at sun.reflect.GeneratedConstructorAccessor67.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:919)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:898)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:887)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:861)
	at com.mysql.jdbc.ConnectionImpl.throwConnectionClosedException(ConnectionImpl.java:1184)
	at com.mysql.jdbc.ConnectionImpl.checkClosed(ConnectionImpl.java:1179)
	at com.mysql.jdbc.ConnectionImpl.setNetworkTimeout(ConnectionImpl.java:5483)
	at com.zaxxer.hikari.pool.PoolBase.setNetworkTimeout(PoolBase.java:541)
	at com.zaxxer.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:162)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:172)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:148)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:151)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:115)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:78)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:68)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:336)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:84)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.executeAutoCount(PageInterceptor.java:201)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:113)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at com.sun.proxy.$Proxy97.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:148)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:141)
	at sun.reflect.GeneratedMethodAccessor131.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:433)
	at com.sun.proxy.$Proxy65.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:230)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:137)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:75)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:59)
	at com.sun.proxy.$Proxy76.selectMyCoupon(Unknown Source)
	at com.gogirl.gogirl_user.service.CouponService.selectMyCoupon(CouponService.java:66)
	at com.gogirl.gogirl_user.controller.CouponController.selectMyCoupon(CouponController.java:257)
	at sun.reflect.GeneratedMethodAccessor209.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:866)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-07-08 09:41:06,988 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@732b8944 (No operations allowed after connection closed.)
2019-07-08 09:41:07,002 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 09:41:07,005 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 09:41:07,014 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 09:41:07,018 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 09:41:07,019 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 09:41:07,035 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 09:42:32,310 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 09:42:32,329 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 09:42:32,329 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 09:42:32,338 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 09:42:32,339 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 09:42:32,340 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 09:42:32,354 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 09:42:54,024 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 09:42:54,045 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 09:42:54,046 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 09:42:54,055 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 09:42:54,057 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 09:42:54,057 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 09:42:54,074 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 09:44:01,892 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 09:44:01,924 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 09:44:01,925 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 09:44:01,934 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 09:44:01,937 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 09:44:01,938 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 09:44:01,956 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 09:45:08,089 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 09:45:08,117 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 09:45:08,118 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 09:45:08,128 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 09:45:08,130 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 09:45:08,130 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 09:45:08,145 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 09:46:19,477 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 09:46:19,496 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 09:46:19,496 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 09:46:19,504 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 09:46:19,505 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 09:46:19,506 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 09:46:19,519 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 09:47:04,258 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 09:47:04,273 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 09:47:04,273 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 09:47:04,282 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 09:47:04,283 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 09:47:04,283 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 09:47:04,295 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 09:47:41,225 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 09:47:41,244 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 09:47:41,244 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 09:47:41,256 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 09:47:41,257 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 09:47:41,258 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 09:47:41,279 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 09:47:51,327 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 09:47:51,354 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 09:47:51,355 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 09:47:51,364 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 09:47:51,366 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 09:47:51,367 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 09:47:51,381 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 09:49:22,552 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 09:49:22,583 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 09:49:22,584 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 09:49:22,594 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 09:49:22,595 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 09:49:22,596 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 09:49:22,609 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 09:49:39,191 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 09:49:39,208 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 09:49:39,208 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 09:49:39,218 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 09:49:39,219 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 09:49:39,219 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 09:49:39,236 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 09:49:52,167 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 09:49:52,198 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 09:49:52,198 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 09:49:52,207 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 09:49:52,209 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 09:49:52,210 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 09:49:52,225 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 09:51:47,950 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 09:51:48,032 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 09:51:48,033 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 09:51:48,044 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 09:51:48,045 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 09:51:48,046 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 09:51:48,062 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 09:51:58,057 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 09:51:58,087 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 09:51:58,089 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 09:51:58,098 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 09:51:58,102 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 09:51:58,103 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 09:51:58,117 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 09:52:10,182 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 09:52:10,210 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 09:52:10,210 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 09:52:10,219 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 09:52:10,221 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 09:52:10,222 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 09:52:10,235 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 09:53:12,455 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 09:53:12,473 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 09:53:12,474 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 09:53:12,483 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 09:53:12,484 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 09:53:12,485 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 09:53:12,500 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 09:53:41,542 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 09:53:41,571 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 09:53:41,572 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 09:53:41,582 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 09:53:41,585 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 09:53:41,586 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 09:53:41,600 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 09:55:55,532 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 09:55:55,566 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 09:55:55,567 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 09:55:55,578 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 09:55:55,581 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 09:55:55,582 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 09:55:55,596 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 09:56:01,670 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 09:56:01,692 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 09:56:01,693 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 09:56:01,702 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 09:56:01,704 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 09:56:01,704 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 09:56:01,719 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 10:00:27,684 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 10:00:27,707 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 10:00:27,708 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 10:00:27,717 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 10:00:27,718 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 10:00:27,719 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 10:00:27,731 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 10:00:37,959 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 10:00:37,987 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 10:00:37,988 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 10:00:37,996 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 10:00:37,997 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 10:00:37,998 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 10:00:38,013 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 10:02:43,172 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 10:02:43,195 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 10:02:43,196 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 10:02:43,204 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 10:02:43,205 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 10:02:43,206 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 10:02:43,218 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 10:13:07,541 INFO (CustomerCotroller.java:365)- 获取用户信息openid:o7112v0qdTRxqTk7ABNIhAjYSEEU
2019-07-08 10:13:07,553 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select id, openid, phone, nickname, password, sex, country, province, city, headimgurl,customer_source, privilege, state, register_time, update_time, real_name, birthday, register_department, source, scheduled_times,order_times, store_record_real_name, remark,remark2,remark3,remark4,responsible_person,data_integrity from customer where openid = ? 
2019-07-08 10:13:07,554 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: o7112v0qdTRxqTk7ABNIhAjYSEEU(String)
2019-07-08 10:13:07,567 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 10:51:22,700 INFO (CustomerCotroller.java:365)- 获取用户信息openid:o7112v0qdTRxqTk7ABNIhAjYSEEU
2019-07-08 10:51:27,787 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@2efb02e0 (No operations allowed after connection closed.)
2019-07-08 10:51:32,790 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@459855f1 (No operations allowed after connection closed.)
2019-07-08 10:51:37,791 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@301e205a (No operations allowed after connection closed.)
2019-07-08 10:51:42,797 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@2a2f4f3e (No operations allowed after connection closed.)
2019-07-08 10:51:47,800 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@6cc2495e (No operations allowed after connection closed.)
2019-07-08 10:51:52,803 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@5c657d60 (No operations allowed after connection closed.)
2019-07-08 10:51:52,816 ERROR (DirectJDKLog.java:182)- Servlet.service() for servlet [dispatcherServlet] in context with path [/gogirl_user] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30087ms.
### The error may exist in file [E:\Workspaces\gogirl_user\target\classes\mapper\CustomerMapper.xml]
### The error may involve com.gogirl.gogirl_user.dao.CustomerMapper.selectByOpenid
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30087ms.] with root cause
com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: No operations allowed after connection closed.
	at sun.reflect.GeneratedConstructorAccessor67.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:919)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:898)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:887)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:861)
	at com.mysql.jdbc.ConnectionImpl.throwConnectionClosedException(ConnectionImpl.java:1184)
	at com.mysql.jdbc.ConnectionImpl.checkClosed(ConnectionImpl.java:1179)
	at com.mysql.jdbc.ConnectionImpl.setNetworkTimeout(ConnectionImpl.java:5483)
	at com.zaxxer.hikari.pool.PoolBase.setNetworkTimeout(PoolBase.java:541)
	at com.zaxxer.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:162)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:172)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:148)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:151)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:115)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:78)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:68)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:336)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:84)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:143)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at com.sun.proxy.$Proxy97.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:148)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:141)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:77)
	at sun.reflect.GeneratedMethodAccessor65.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:433)
	at com.sun.proxy.$Proxy65.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:166)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:82)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:59)
	at com.sun.proxy.$Proxy66.selectByOpenid(Unknown Source)
	at com.gogirl.gogirl_user.service.CustomerService.selectByOpenid(CustomerService.java:193)
	at com.gogirl.gogirl_user.controller.CustomerCotroller.getCustomerByOpenid(CustomerCotroller.java:367)
	at sun.reflect.GeneratedMethodAccessor248.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-07-08 10:52:57,415 INFO (CustomerCotroller.java:365)- 获取用户信息openid:o7112v0qdTRxqTk7ABNIhAjYSEEU
2019-07-08 10:53:02,426 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@5ca28adb (No operations allowed after connection closed.)
2019-07-08 10:53:04,899 INFO (CustomerCotroller.java:365)- 获取用户信息openid:o7112v0qdTRxqTk7ABNIhAjYSEEU
2019-07-08 10:53:07,431 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@4815c7f1 (No operations allowed after connection closed.)
2019-07-08 10:53:09,903 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@2f2a621e (No operations allowed after connection closed.)
2019-07-08 10:53:09,914 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select id, openid, phone, nickname, password, sex, country, province, city, headimgurl,customer_source, privilege, state, register_time, update_time, real_name, birthday, register_department, source, scheduled_times,order_times, store_record_real_name, remark,remark2,remark3,remark4,responsible_person,data_integrity from customer where openid = ? 
2019-07-08 10:53:09,918 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: o7112v0qdTRxqTk7ABNIhAjYSEEU(String)
2019-07-08 10:53:09,938 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 10:53:12,436 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@199f5e83 (No operations allowed after connection closed.)
2019-07-08 10:53:12,445 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select id, openid, phone, nickname, password, sex, country, province, city, headimgurl,customer_source, privilege, state, register_time, update_time, real_name, birthday, register_department, source, scheduled_times,order_times, store_record_real_name, remark,remark2,remark3,remark4,responsible_person,data_integrity from customer where openid = ? 
2019-07-08 10:53:12,447 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: o7112v0qdTRxqTk7ABNIhAjYSEEU(String)
2019-07-08 10:53:12,482 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 10:53:35,365 INFO (CustomerCotroller.java:343)- 获取用户信息id:1736
2019-07-08 10:53:35,410 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select c.id, c.openid, c.phone, c. nickname, c. password, c. sex, c. country, c. province, c. city, c. headimgurl,c.customer_source, c. privilege, c. state, c. register_time, c. update_time, c. real_name, c. birthday, c. register_department, c. source, c. scheduled_times, c.order_times, c. store_record_real_name, c. remark, c.remark2, c.remark3, c.remark4,responsible_person,data_integrity, w.customer_id as wcustomer_id,w.id as wid, w.screen_name, w.name as wname, w.province as wprovince, w.city as wcity, w.location, w.description, w.url, w.profileImage_url, w.user_domain, w.gender, w.followers_count, w.friends_count, w.statuses_count, w.favourites_count, w.created_at, w.following, w.verified, w.verified_type, w.allow_all_act_asg, w.allow_all_comment, w.follow_me, w.avatar_large, w.online_status, w.bi_followers_count, w.remark, w.lang, w.verified_reason, w.weihao, w.status_id from customer c left join customer_weibo w on c.id=w.customer_id where c.id = ? 
2019-07-08 10:53:35,411 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 10:53:35,429 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 10:53:39,422 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select id, total_charge, charge_amount, bestow_amount, discount, level, remark from discount_config where id!=1 
2019-07-08 10:53:39,425 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 
2019-07-08 10:53:39,419 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select customer_id, balance, current_discount, first_charge_time, update_time, total_charge, total_bestow, total_expenditure, version, level,discount_rate from customer_balance cb where customer_id = ? 
2019-07-08 10:53:39,430 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 10:53:39,440 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 0
2019-07-08 10:53:39,440 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 3
2019-07-08 10:53:39,441 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select id, total_charge, charge_amount, bestow_amount, discount, level, remark from discount_config where id = (select id from discount_config where ?>=total_charge order by total_charge desc limit 1) 
2019-07-08 10:53:39,442 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 0(Integer)
2019-07-08 10:53:39,453 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 10:53:44,662 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 10:53:44,694 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 10:53:44,694 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 10:53:44,718 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 10:53:44,720 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 10:53:44,721 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 10:53:44,738 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 10:54:43,640 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 10:54:43,661 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 10:54:43,661 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 10:54:43,673 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 10:54:43,675 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 10:54:43,676 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 10:54:43,692 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 10:58:02,020 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 10:58:02,050 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 10:58:02,050 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 10:58:02,065 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 10:58:02,066 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 10:58:02,067 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 10:58:02,085 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 10:59:24,394 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 10:59:24,431 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 10:59:24,432 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 10:59:24,444 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 10:59:24,446 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 10:59:24,447 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 10:59:24,464 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 11:07:47,805 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 11:07:52,827 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@c2cedaa (No operations allowed after connection closed.)
2019-07-08 11:07:57,828 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@2739348b (No operations allowed after connection closed.)
2019-07-08 11:08:02,831 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@105e444e (No operations allowed after connection closed.)
2019-07-08 11:08:07,836 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@35bc90b6 (No operations allowed after connection closed.)
2019-07-08 11:08:12,841 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@39d134e5 (No operations allowed after connection closed.)
2019-07-08 11:08:17,842 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@67a9bfb7 (No operations allowed after connection closed.)
2019-07-08 11:08:17,846 ERROR (DirectJDKLog.java:182)- Servlet.service() for servlet [dispatcherServlet] in context with path [/gogirl_user] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30017ms.
### The error may exist in file [E:\Workspaces\gogirl_user\target\classes\mapper\CouponCustomerRelevanceMapper.xml]
### The error may involve com.gogirl.gogirl_user.dao.CouponCustomerRelevanceMapper.selectMyCoupon_COUNT
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30017ms.] with root cause
com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: No operations allowed after connection closed.
	at sun.reflect.GeneratedConstructorAccessor67.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:919)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:898)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:887)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:861)
	at com.mysql.jdbc.ConnectionImpl.throwConnectionClosedException(ConnectionImpl.java:1184)
	at com.mysql.jdbc.ConnectionImpl.checkClosed(ConnectionImpl.java:1179)
	at com.mysql.jdbc.ConnectionImpl.setNetworkTimeout(ConnectionImpl.java:5483)
	at com.zaxxer.hikari.pool.PoolBase.setNetworkTimeout(PoolBase.java:541)
	at com.zaxxer.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:162)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:172)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:148)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:151)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:115)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:78)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:68)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:336)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:84)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.executeAutoCount(PageInterceptor.java:201)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:113)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at com.sun.proxy.$Proxy97.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:148)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:141)
	at sun.reflect.GeneratedMethodAccessor131.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:433)
	at com.sun.proxy.$Proxy65.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:230)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:137)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:75)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:59)
	at com.sun.proxy.$Proxy76.selectMyCoupon(Unknown Source)
	at com.gogirl.gogirl_user.service.CouponService.selectMyCoupon(CouponService.java:66)
	at com.gogirl.gogirl_user.controller.CouponController.selectMyCoupon(CouponController.java:257)
	at sun.reflect.GeneratedMethodAccessor209.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:866)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-07-08 12:00:00,038 INFO (CouponService.java:177)- 每天定时任务,查看优惠券是否即将过期,发起消息模板提醒
2019-07-08 12:00:05,161 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@329ed93a (No operations allowed after connection closed.)
2019-07-08 12:00:10,174 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@498e5eb3 (No operations allowed after connection closed.)
2019-07-08 12:00:15,183 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@6ca228e0 (No operations allowed after connection closed.)
2019-07-08 12:00:20,187 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@b120ca6 (No operations allowed after connection closed.)
2019-07-08 12:00:25,190 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@30d2a0b1 (No operations allowed after connection closed.)
2019-07-08 12:00:30,195 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@6e82cace (No operations allowed after connection closed.)
2019-07-08 16:18:49,596 INFO (CustomerCotroller.java:365)- 获取用户信息openid:o7112v0qdTRxqTk7ABNIhAjYSEEU
2019-07-08 16:18:54,704 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@320b49a9 (No operations allowed after connection closed.)
2019-07-08 16:18:56,736 INFO (CustomerCotroller.java:365)- 获取用户信息openid:o7112v0qdTRxqTk7ABNIhAjYSEEU
2019-07-08 16:18:59,714 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@6f15f2c5 (No operations allowed after connection closed.)
2019-07-08 16:19:01,739 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@157f1757 (No operations allowed after connection closed.)
2019-07-08 16:19:04,721 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@e1c126 (No operations allowed after connection closed.)
2019-07-08 16:19:06,742 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@5a85cb20 (No operations allowed after connection closed.)
2019-07-08 16:19:09,724 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@3f10701 (No operations allowed after connection closed.)
2019-07-08 16:19:11,790 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@5ac54b7a (No operations allowed after connection closed.)
2019-07-08 16:19:14,729 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@43325e60 (No operations allowed after connection closed.)
2019-07-08 16:19:16,795 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@fd6ae90 (No operations allowed after connection closed.)
2019-07-08 16:19:16,809 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select id, openid, phone, nickname, password, sex, country, province, city, headimgurl,customer_source, privilege, state, register_time, update_time, real_name, birthday, register_department, source, scheduled_times,order_times, store_record_real_name, remark,remark2,remark3,remark4,responsible_person,data_integrity from customer where openid = ? 
2019-07-08 16:19:16,818 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: o7112v0qdTRxqTk7ABNIhAjYSEEU(String)
2019-07-08 16:19:16,882 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 16:19:19,732 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@57356622 (No operations allowed after connection closed.)
2019-07-08 16:19:19,739 ERROR (DirectJDKLog.java:182)- Servlet.service() for servlet [dispatcherServlet] in context with path [/gogirl_user] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30041ms.
### The error may exist in file [E:\Workspaces\gogirl_user\target\classes\mapper\CustomerMapper.xml]
### The error may involve com.gogirl.gogirl_user.dao.CustomerMapper.selectByOpenid
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30041ms.] with root cause
com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: No operations allowed after connection closed.
	at sun.reflect.GeneratedConstructorAccessor67.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:919)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:898)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:887)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:861)
	at com.mysql.jdbc.ConnectionImpl.throwConnectionClosedException(ConnectionImpl.java:1184)
	at com.mysql.jdbc.ConnectionImpl.checkClosed(ConnectionImpl.java:1179)
	at com.mysql.jdbc.ConnectionImpl.setNetworkTimeout(ConnectionImpl.java:5483)
	at com.zaxxer.hikari.pool.PoolBase.setNetworkTimeout(PoolBase.java:541)
	at com.zaxxer.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:162)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:172)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:148)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:151)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:115)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:78)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:68)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:336)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:84)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:143)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at com.sun.proxy.$Proxy97.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:148)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:141)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:77)
	at sun.reflect.GeneratedMethodAccessor65.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:433)
	at com.sun.proxy.$Proxy65.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:166)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:82)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:59)
	at com.sun.proxy.$Proxy66.selectByOpenid(Unknown Source)
	at com.gogirl.gogirl_user.service.CustomerService.selectByOpenid(CustomerService.java:193)
	at com.gogirl.gogirl_user.controller.CustomerCotroller.getCustomerByOpenid(CustomerCotroller.java:367)
	at sun.reflect.GeneratedMethodAccessor248.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-07-08 16:19:47,973 INFO (CustomerCotroller.java:365)- 获取用户信息openid:o7112v0qdTRxqTk7ABNIhAjYSEEU
2019-07-08 16:19:47,985 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select id, openid, phone, nickname, password, sex, country, province, city, headimgurl,customer_source, privilege, state, register_time, update_time, real_name, birthday, register_department, source, scheduled_times,order_times, store_record_real_name, remark,remark2,remark3,remark4,responsible_person,data_integrity from customer where openid = ? 
2019-07-08 16:19:47,986 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: o7112v0qdTRxqTk7ABNIhAjYSEEU(String)
2019-07-08 16:19:48,008 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 16:20:08,416 INFO (CustomerCotroller.java:343)- 获取用户信息id:1736
2019-07-08 16:20:08,427 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select c.id, c.openid, c.phone, c. nickname, c. password, c. sex, c. country, c. province, c. city, c. headimgurl,c.customer_source, c. privilege, c. state, c. register_time, c. update_time, c. real_name, c. birthday, c. register_department, c. source, c. scheduled_times, c.order_times, c. store_record_real_name, c. remark, c.remark2, c.remark3, c.remark4,responsible_person,data_integrity, w.customer_id as wcustomer_id,w.id as wid, w.screen_name, w.name as wname, w.province as wprovince, w.city as wcity, w.location, w.description, w.url, w.profileImage_url, w.user_domain, w.gender, w.followers_count, w.friends_count, w.statuses_count, w.favourites_count, w.created_at, w.following, w.verified, w.verified_type, w.allow_all_act_asg, w.allow_all_comment, w.follow_me, w.avatar_large, w.online_status, w.bi_followers_count, w.remark, w.lang, w.verified_reason, w.weihao, w.status_id from customer c left join customer_weibo w on c.id=w.customer_id where c.id = ? 
2019-07-08 16:20:08,428 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 16:20:08,444 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 16:20:15,873 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select customer_id, balance, current_discount, first_charge_time, update_time, total_charge, total_bestow, total_expenditure, version, level,discount_rate from customer_balance cb where customer_id = ? 
2019-07-08 16:20:15,873 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 16:20:15,884 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 0
2019-07-08 16:20:15,887 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select id, total_charge, charge_amount, bestow_amount, discount, level, remark from discount_config where id = (select id from discount_config where ?>=total_charge order by total_charge desc limit 1) 
2019-07-08 16:20:15,888 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 0(Integer)
2019-07-08 16:20:15,953 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 16:20:15,962 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select id, total_charge, charge_amount, bestow_amount, discount, level, remark from discount_config where id!=1 
2019-07-08 16:20:15,963 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 
2019-07-08 16:20:15,974 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 3
2019-07-08 16:21:20,159 INFO (CustomerCotroller.java:365)- 获取用户信息openid:o7112v0qdTRxqTk7ABNIhAjYSEEU
2019-07-08 16:21:20,170 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select id, openid, phone, nickname, password, sex, country, province, city, headimgurl,customer_source, privilege, state, register_time, update_time, real_name, birthday, register_department, source, scheduled_times,order_times, store_record_real_name, remark,remark2,remark3,remark4,responsible_person,data_integrity from customer where openid = ? 
2019-07-08 16:21:20,170 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: o7112v0qdTRxqTk7ABNIhAjYSEEU(String)
2019-07-08 16:21:20,184 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 16:21:38,651 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 16:21:38,730 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 16:21:38,730 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 16:21:38,743 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 16:21:38,753 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 16:21:38,754 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 16:21:38,771 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 16:21:59,703 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 16:21:59,734 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 16:21:59,759 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 16:21:59,770 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 16:21:59,785 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 16:21:59,785 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 16:21:59,811 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 16:24:50,444 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 16:24:50,462 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 16:24:50,462 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 16:24:50,474 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 16:24:50,475 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 16:24:50,475 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 16:24:50,491 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 16:25:14,788 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 16:25:14,808 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 16:25:14,808 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 16:25:14,819 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 16:25:14,871 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 16:25:14,880 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 16:25:14,906 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 16:25:55,113 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 16:25:55,136 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 16:25:55,136 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 16:25:55,148 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 16:25:55,149 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 16:25:55,150 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 16:25:55,166 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 16:26:01,186 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 16:26:01,214 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 16:26:01,215 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 16:26:01,274 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 16:26:01,284 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 16:26:01,284 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 16:26:01,301 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 16:26:06,556 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 16:26:06,640 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 16:26:06,641 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 16:26:06,654 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 16:26:06,657 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 16:26:06,658 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 16:26:06,676 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 16:26:15,540 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 16:26:15,564 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 16:26:15,564 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 16:26:15,575 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 16:26:15,577 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 16:26:15,577 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 16:26:15,594 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 16:26:22,101 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 16:26:22,121 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 16:26:22,122 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 16:26:22,134 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 16:26:22,136 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 16:26:22,137 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 16:26:22,167 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 16:27:38,993 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 16:27:39,031 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 16:27:39,031 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 16:27:39,042 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 16:27:39,044 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 16:27:39,050 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 16:27:39,091 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 16:27:46,499 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 16:27:46,518 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 16:27:46,518 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 16:27:46,529 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 16:27:46,530 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 16:27:46,530 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 16:27:46,546 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 16:28:02,692 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 16:28:02,720 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 16:28:02,720 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 16:28:02,732 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 16:28:02,733 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 16:28:02,734 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 16:28:02,752 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 16:28:23,241 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 16:28:23,295 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 16:28:23,296 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 16:28:23,307 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 16:28:23,308 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 16:28:23,308 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 16:28:23,325 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 16:28:43,032 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 16:28:43,051 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 16:28:43,052 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 16:28:43,063 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 16:28:43,104 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 16:28:43,104 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 16:28:43,120 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 16:29:23,991 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 16:29:24,040 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 16:29:24,040 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 16:29:24,052 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 16:29:24,064 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 16:29:24,064 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 16:29:24,082 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 16:29:28,431 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 16:29:28,457 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 16:29:28,457 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 16:29:28,468 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 16:29:28,469 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 16:29:28,470 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 16:29:28,485 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 16:29:36,250 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 16:29:36,283 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 16:29:36,284 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 16:29:36,295 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 16:29:36,338 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 16:29:36,339 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 16:29:36,355 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 16:29:49,387 INFO (CustomerCotroller.java:343)- 获取用户信息id:1736
2019-07-08 16:29:49,402 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select c.id, c.openid, c.phone, c. nickname, c. password, c. sex, c. country, c. province, c. city, c. headimgurl,c.customer_source, c. privilege, c. state, c. register_time, c. update_time, c. real_name, c. birthday, c. register_department, c. source, c. scheduled_times, c.order_times, c. store_record_real_name, c. remark, c.remark2, c.remark3, c.remark4,responsible_person,data_integrity, w.customer_id as wcustomer_id,w.id as wid, w.screen_name, w.name as wname, w.province as wprovince, w.city as wcity, w.location, w.description, w.url, w.profileImage_url, w.user_domain, w.gender, w.followers_count, w.friends_count, w.statuses_count, w.favourites_count, w.created_at, w.following, w.verified, w.verified_type, w.allow_all_act_asg, w.allow_all_comment, w.follow_me, w.avatar_large, w.online_status, w.bi_followers_count, w.remark, w.lang, w.verified_reason, w.weihao, w.status_id from customer c left join customer_weibo w on c.id=w.customer_id where c.id = ? 
2019-07-08 16:29:49,420 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 16:29:49,452 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 16:29:50,879 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select id, total_charge, charge_amount, bestow_amount, discount, level, remark from discount_config where id!=1 
2019-07-08 16:29:50,880 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 
2019-07-08 16:29:50,892 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 3
2019-07-08 16:29:55,098 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select id, total_charge, charge_amount, bestow_amount, discount, level, remark from discount_config where id!=1 
2019-07-08 16:29:55,099 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 
2019-07-08 16:29:55,114 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 3
2019-07-08 16:29:55,872 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@55d090ab (No operations allowed after connection closed.)
2019-07-08 16:29:55,882 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select customer_id, balance, current_discount, first_charge_time, update_time, total_charge, total_bestow, total_expenditure, version, level,discount_rate from customer_balance cb where customer_id = ? 
2019-07-08 16:29:55,883 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 16:29:55,893 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 0
2019-07-08 16:29:55,895 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select id, total_charge, charge_amount, bestow_amount, discount, level, remark from discount_config where id = (select id from discount_config where ?>=total_charge order by total_charge desc limit 1) 
2019-07-08 16:29:55,895 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 0(Integer)
2019-07-08 16:29:55,906 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 16:29:55,925 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select customer_id, balance, current_discount, first_charge_time, update_time, total_charge, total_bestow, total_expenditure, version, level,discount_rate from customer_balance cb where customer_id = ? 
2019-07-08 16:29:55,927 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 16:29:55,938 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 0
2019-07-08 16:29:55,940 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select id, total_charge, charge_amount, bestow_amount, discount, level, remark from discount_config where id = (select id from discount_config where ?>=total_charge order by total_charge desc limit 1) 
2019-07-08 16:29:55,941 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 0(Integer)
2019-07-08 16:29:55,953 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 16:29:57,667 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 16:29:57,699 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 16:29:57,700 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 16:29:57,711 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 16:29:57,713 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 16:29:57,714 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 16:29:57,730 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 16:31:34,465 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 16:31:34,563 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 16:31:34,564 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 16:31:34,576 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 16:31:34,577 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 16:31:34,578 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 16:31:34,600 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 16:34:13,175 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 16:34:13,209 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 16:34:13,210 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 16:34:13,222 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 16:34:13,224 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 16:34:13,225 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 16:34:13,243 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 16:34:17,632 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 16:34:17,658 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 16:34:17,658 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 16:34:17,669 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 16:34:17,671 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 16:34:17,672 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 16:34:17,688 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 16:34:24,305 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 16:34:24,333 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 16:34:24,334 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 16:34:24,345 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 16:34:24,346 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 16:34:24,346 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 16:34:24,362 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 16:34:31,947 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 16:34:31,981 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 16:34:31,982 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 16:34:31,994 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 16:34:31,996 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 16:34:31,996 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 16:34:32,015 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 16:34:37,686 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 16:34:37,703 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 16:34:37,703 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 16:34:37,716 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 16:34:37,717 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 16:34:37,718 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 16:34:37,736 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 16:34:43,983 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 16:34:44,008 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 16:34:44,008 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 16:34:44,020 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 16:34:44,021 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 16:34:44,021 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 16:34:44,038 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 16:35:44,907 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 16:35:44,934 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 16:35:44,934 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 16:35:44,946 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 16:35:44,947 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 16:35:44,948 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 16:35:44,972 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 16:39:24,271 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 16:39:24,297 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 16:39:24,298 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 16:39:24,310 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 16:39:24,312 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 16:39:24,312 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 16:39:24,385 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 16:40:43,273 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 16:40:43,292 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 16:40:43,293 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 16:40:43,304 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 16:40:43,305 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 16:40:43,306 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 16:40:43,323 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 16:40:47,175 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 16:40:47,221 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 16:40:47,222 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 16:40:47,246 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 16:40:47,250 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 16:40:47,251 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 16:40:47,268 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 16:40:52,997 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 16:40:53,074 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 16:40:53,074 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 16:40:53,085 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 16:40:53,087 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 16:40:53,088 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 16:40:53,105 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 16:40:58,790 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 16:40:58,816 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 16:40:58,816 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 16:40:58,827 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 16:40:58,838 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 16:40:58,839 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 16:40:58,855 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 16:41:28,527 INFO (CustomerCotroller.java:365)- 获取用户信息openid:o7112v0qdTRxqTk7ABNIhAjYSEEU
2019-07-08 16:41:28,539 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select id, openid, phone, nickname, password, sex, country, province, city, headimgurl,customer_source, privilege, state, register_time, update_time, real_name, birthday, register_department, source, scheduled_times,order_times, store_record_real_name, remark,remark2,remark3,remark4,responsible_person,data_integrity from customer where openid = ? 
2019-07-08 16:41:28,539 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: o7112v0qdTRxqTk7ABNIhAjYSEEU(String)
2019-07-08 16:41:28,554 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 16:42:52,810 INFO (CustomerCotroller.java:365)- 获取用户信息openid:o7112v0qdTRxqTk7ABNIhAjYSEEU
2019-07-08 16:42:52,820 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select id, openid, phone, nickname, password, sex, country, province, city, headimgurl,customer_source, privilege, state, register_time, update_time, real_name, birthday, register_department, source, scheduled_times,order_times, store_record_real_name, remark,remark2,remark3,remark4,responsible_person,data_integrity from customer where openid = ? 
2019-07-08 16:42:52,820 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: o7112v0qdTRxqTk7ABNIhAjYSEEU(String)
2019-07-08 16:42:52,835 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 16:43:17,609 INFO (CustomerCotroller.java:343)- 获取用户信息id:1736
2019-07-08 16:43:17,621 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select c.id, c.openid, c.phone, c. nickname, c. password, c. sex, c. country, c. province, c. city, c. headimgurl,c.customer_source, c. privilege, c. state, c. register_time, c. update_time, c. real_name, c. birthday, c. register_department, c. source, c. scheduled_times, c.order_times, c. store_record_real_name, c. remark, c.remark2, c.remark3, c.remark4,responsible_person,data_integrity, w.customer_id as wcustomer_id,w.id as wid, w.screen_name, w.name as wname, w.province as wprovince, w.city as wcity, w.location, w.description, w.url, w.profileImage_url, w.user_domain, w.gender, w.followers_count, w.friends_count, w.statuses_count, w.favourites_count, w.created_at, w.following, w.verified, w.verified_type, w.allow_all_act_asg, w.allow_all_comment, w.follow_me, w.avatar_large, w.online_status, w.bi_followers_count, w.remark, w.lang, w.verified_reason, w.weihao, w.status_id from customer c left join customer_weibo w on c.id=w.customer_id where c.id = ? 
2019-07-08 16:43:17,625 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 16:43:17,648 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 16:43:19,217 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select customer_id, balance, current_discount, first_charge_time, update_time, total_charge, total_bestow, total_expenditure, version, level,discount_rate from customer_balance cb where customer_id = ? 
2019-07-08 16:43:19,218 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 16:43:19,229 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 0
2019-07-08 16:43:19,230 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select id, total_charge, charge_amount, bestow_amount, discount, level, remark from discount_config where id = (select id from discount_config where ?>=total_charge order by total_charge desc limit 1) 
2019-07-08 16:43:19,231 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 0(Integer)
2019-07-08 16:43:19,284 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 16:43:24,273 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@32223631 (No operations allowed after connection closed.)
2019-07-08 16:43:24,284 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select id, total_charge, charge_amount, bestow_amount, discount, level, remark from discount_config where id!=1 
2019-07-08 16:43:24,285 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 
2019-07-08 16:43:24,297 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 3
2019-07-08 16:43:24,598 INFO (CouponController.java:255)- 查询领取优惠券的用户列表CouponCustomerRelevance:1736
2019-07-08 16:43:24,634 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM coupon_customer_relevance ccr LEFT JOIN coupon cp ON ccr.coupon_id = cp.id WHERE customer_id = ? 
2019-07-08 16:43:24,635 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 16:43:24,646 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 16:43:24,647 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select ccr.id as id, customer_id, coupon_id, ccr.state as state, code, receive_time, ccr.valid_start_time as valid_start_time,ccr.valid_end_time as valid_end_time , use_date, ccr.remark as remark, cp.id as cpid, name, discount_amount,reaching_amount, discount_percent, type, condition1, note, valid_type, valid_date, cp.valid_start_time as cpvalid_start_time , cp.valid_end_time as cpvalid_end_time, all_quantity, receive_quantity, use_quantity, limit_quantity, cp.state as cpstate, cp.remark as cpremark from coupon_customer_relevance ccr left join coupon cp on ccr.coupon_id = cp.id where customer_id = ? order by state,discount_amount desc,valid_end_time desc LIMIT ? 
2019-07-08 16:43:24,648 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer), 100(Integer)
2019-07-08 16:43:24,663 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 16:44:05,567 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select customer_id, balance, current_discount, first_charge_time, update_time, total_charge, total_bestow, total_expenditure, version, level,discount_rate from customer_balance cb where customer_id = ? 
2019-07-08 16:44:05,608 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 16:44:05,619 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 0
2019-07-08 16:44:05,620 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select id, total_charge, charge_amount, bestow_amount, discount, level, remark from discount_config where id = (select id from discount_config where ?>=total_charge order by total_charge desc limit 1) 
2019-07-08 16:44:05,621 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 0(Integer)
2019-07-08 16:44:05,645 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 16:45:16,686 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select id, total_charge, charge_amount, bestow_amount, discount, level, remark from discount_config where id!=1 
2019-07-08 16:45:16,687 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 
2019-07-08 16:45:16,698 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 3
2019-07-08 16:45:41,766 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select id, total_charge, charge_amount, bestow_amount, discount, level, remark from discount_config where id!=1 
2019-07-08 16:45:41,768 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 
2019-07-08 16:45:41,779 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 3
2019-07-08 16:46:13,023 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select id, total_charge, charge_amount, bestow_amount, discount, level, remark from discount_config where id!=1 
2019-07-08 16:46:13,025 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 
2019-07-08 16:46:13,036 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 3
2019-07-08 17:03:33,415 INFO (CustomerCotroller.java:365)- 获取用户信息openid:o7112v-gTwp2OnTun_iBfiRz9_do
2019-07-08 17:03:38,418 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@38cc9792 (No operations allowed after connection closed.)
2019-07-08 17:03:43,419 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@145a55e9 (No operations allowed after connection closed.)
2019-07-08 17:03:48,426 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@6abbd6d3 (No operations allowed after connection closed.)
2019-07-08 17:03:53,434 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@542f9cf8 (No operations allowed after connection closed.)
2019-07-08 17:03:58,439 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@6bb66212 (No operations allowed after connection closed.)
2019-07-08 17:04:03,447 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@3209c8cc (No operations allowed after connection closed.)
2019-07-08 17:04:03,486 ERROR (DirectJDKLog.java:182)- Servlet.service() for servlet [dispatcherServlet] in context with path [/gogirl_user] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30032ms.
### The error may exist in file [E:\Workspaces\gogirl_user\target\classes\mapper\CustomerMapper.xml]
### The error may involve com.gogirl.gogirl_user.dao.CustomerMapper.selectByOpenid
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30032ms.] with root cause
com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: No operations allowed after connection closed.
	at sun.reflect.GeneratedConstructorAccessor67.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:919)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:898)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:887)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:861)
	at com.mysql.jdbc.ConnectionImpl.throwConnectionClosedException(ConnectionImpl.java:1184)
	at com.mysql.jdbc.ConnectionImpl.checkClosed(ConnectionImpl.java:1179)
	at com.mysql.jdbc.ConnectionImpl.setNetworkTimeout(ConnectionImpl.java:5483)
	at com.zaxxer.hikari.pool.PoolBase.setNetworkTimeout(PoolBase.java:541)
	at com.zaxxer.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:162)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:172)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:148)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:151)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:115)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:78)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:68)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:336)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:84)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:143)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at com.sun.proxy.$Proxy97.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:148)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:141)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:77)
	at sun.reflect.GeneratedMethodAccessor65.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:433)
	at com.sun.proxy.$Proxy65.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:166)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:82)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:59)
	at com.sun.proxy.$Proxy66.selectByOpenid(Unknown Source)
	at com.gogirl.gogirl_user.service.CustomerService.selectByOpenid(CustomerService.java:193)
	at com.gogirl.gogirl_user.controller.CustomerCotroller.getCustomerByOpenid(CustomerCotroller.java:367)
	at sun.reflect.GeneratedMethodAccessor248.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-07-08 17:04:13,177 INFO (CustomerCotroller.java:365)- 获取用户信息openid:o7112v-gTwp2OnTun_iBfiRz9_do
2019-07-08 17:04:18,185 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@45d3f288 (No operations allowed after connection closed.)
2019-07-08 17:04:23,186 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@5cf503c1 (No operations allowed after connection closed.)
2019-07-08 17:04:28,190 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@19310c7 (No operations allowed after connection closed.)
2019-07-08 17:04:28,200 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select id, openid, phone, nickname, password, sex, country, province, city, headimgurl,customer_source, privilege, state, register_time, update_time, real_name, birthday, register_department, source, scheduled_times,order_times, store_record_real_name, remark,remark2,remark3,remark4,responsible_person,data_integrity from customer where openid = ? 
2019-07-08 17:04:28,201 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: o7112v-gTwp2OnTun_iBfiRz9_do(String)
2019-07-08 17:04:28,214 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 0
2019-07-08 17:10:43,498 INFO (CustomerCotroller.java:365)- 获取用户信息openid:o7112v-gTwp2OnTun_iBfiRz9_do
2019-07-08 17:10:48,519 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@3de0d4d5 (No operations allowed after connection closed.)
2019-07-08 17:10:53,527 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@12aa9c52 (No operations allowed after connection closed.)
2019-07-08 17:10:56,731 INFO (CustomerCotroller.java:365)- 获取用户信息openid:o7112v-gTwp2OnTun_iBfiRz9_do
2019-07-08 17:10:58,534 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@57586ea9 (No operations allowed after connection closed.)
2019-07-08 17:11:01,737 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@1a634faf (No operations allowed after connection closed.)
2019-07-08 17:11:03,537 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@60ad8fd0 (No operations allowed after connection closed.)
2019-07-08 17:11:06,742 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@6d5ff042 (No operations allowed after connection closed.)
2019-07-08 17:11:08,541 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@2623c79b (No operations allowed after connection closed.)
2019-07-08 17:11:11,747 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@2bc5ef11 (No operations allowed after connection closed.)
2019-07-08 17:11:13,545 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@600cd322 (No operations allowed after connection closed.)
2019-07-08 17:11:13,548 ERROR (DirectJDKLog.java:182)- Servlet.service() for servlet [dispatcherServlet] in context with path [/gogirl_user] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30028ms.
### The error may exist in file [E:\Workspaces\gogirl_user\target\classes\mapper\CustomerMapper.xml]
### The error may involve com.gogirl.gogirl_user.dao.CustomerMapper.selectByOpenid
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30028ms.] with root cause
com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: No operations allowed after connection closed.
	at sun.reflect.GeneratedConstructorAccessor67.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:919)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:898)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:887)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:861)
	at com.mysql.jdbc.ConnectionImpl.throwConnectionClosedException(ConnectionImpl.java:1184)
	at com.mysql.jdbc.ConnectionImpl.checkClosed(ConnectionImpl.java:1179)
	at com.mysql.jdbc.ConnectionImpl.setNetworkTimeout(ConnectionImpl.java:5483)
	at com.zaxxer.hikari.pool.PoolBase.setNetworkTimeout(PoolBase.java:541)
	at com.zaxxer.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:162)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:172)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:148)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:151)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:115)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:78)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:68)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:336)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:84)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:143)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at com.sun.proxy.$Proxy97.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:148)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:141)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:77)
	at sun.reflect.GeneratedMethodAccessor65.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:433)
	at com.sun.proxy.$Proxy65.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:166)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:82)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:59)
	at com.sun.proxy.$Proxy66.selectByOpenid(Unknown Source)
	at com.gogirl.gogirl_user.service.CustomerService.selectByOpenid(CustomerService.java:193)
	at com.gogirl.gogirl_user.controller.CustomerCotroller.getCustomerByOpenid(CustomerCotroller.java:367)
	at sun.reflect.GeneratedMethodAccessor248.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-07-08 17:11:16,752 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@35f0167b (No operations allowed after connection closed.)
2019-07-08 17:11:16,767 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select id, openid, phone, nickname, password, sex, country, province, city, headimgurl,customer_source, privilege, state, register_time, update_time, real_name, birthday, register_department, source, scheduled_times,order_times, store_record_real_name, remark,remark2,remark3,remark4,responsible_person,data_integrity from customer where openid = ? 
2019-07-08 17:11:16,804 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: o7112v-gTwp2OnTun_iBfiRz9_do(String)
2019-07-08 17:11:16,819 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 0
2019-07-08 17:11:43,820 INFO (CustomerCotroller.java:343)- 获取用户信息id:null
2019-07-08 17:11:43,822 ERROR (DirectJDKLog.java:182)- Servlet.service() for servlet [dispatcherServlet] in context with path [/gogirl_user] threw exception [Request processing failed; nested exception is java.lang.NumberFormatException: For input string: "null"] with root cause
java.lang.NumberFormatException: For input string: "null"
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)
	at java.lang.Integer.parseInt(Integer.java:580)
	at java.lang.Integer.parseInt(Integer.java:615)
	at com.gogirl.gogirl_user.controller.CustomerCotroller.getCustomerByPrimaryKey(CustomerCotroller.java:345)
	at sun.reflect.GeneratedMethodAccessor247.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:866)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-07-08 17:12:08,108 INFO (CustomerCotroller.java:365)- 获取用户信息openid:o7112v-gTwp2OnTun_iBfiRz9_do
2019-07-08 17:12:08,119 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select id, openid, phone, nickname, password, sex, country, province, city, headimgurl,customer_source, privilege, state, register_time, update_time, real_name, birthday, register_department, source, scheduled_times,order_times, store_record_real_name, remark,remark2,remark3,remark4,responsible_person,data_integrity from customer where openid = ? 
2019-07-08 17:12:08,119 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: o7112v-gTwp2OnTun_iBfiRz9_do(String)
2019-07-08 17:12:08,133 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 0
2019-07-08 17:14:06,398 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8089"]
2019-07-08 17:14:06,446 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2019-07-08 17:14:06,447 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.31
2019-07-08 17:14:06,471 INFO (DirectJDKLog.java:180)- The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [D:\Java\jdk1.8.0_161\bin;C:\WINDOWS\Sun\Java\bin;C:\WINDOWS\system32;C:\WINDOWS;C:/Program Files/Java/jre1.8.0_181/bin/server;C:/Program Files/Java/jre1.8.0_181/bin;C:/Program Files/Java/jre1.8.0_181/lib/amd64;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Python27\;C:\Python27\Scripts;C:\ProgramData\Boxstarter;C:\ProgramData\Oracle\Java\javapath;C:\Program Files (x86)\Intel\iCLS Client\;C:\Program Files\Intel\iCLS Client\;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files (x86)\Intel\Intel(R) Management Engine Components\DAL;C:\Program Files\Intel\Intel(R) Management Engine Components\DAL;C:\Program Files (x86)\Intel\Intel(R) Management Engine Components\IPT;C:\Program Files\Intel\Intel(R) Management Engine Components\IPT;D:\Java\jdk1.8.0_161\bin;D:\Java\jdk1.8.0_161\jre\bin;D:\Java\apache-maven-3.5.3\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\WINDOWS\System32\OpenSSH\;C:\Python27;C:\Python27\Scripts;C:\ProgramData\chocolatey\bin;C:\Program Files\nodejs\node_global\;C:\Program Files (x86)\HP\Unified Functional Testing\bin;C:\Program Files\nodejs\;C:\Users\bailun\AppData\Local\Microsoft\WindowsApps;C:\Users\bailun\AppData\Roaming\npm;D:\workapp\eclipse;;.]
2019-07-08 17:14:06,871 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2019-07-08 17:14:07,305 INFO (DirectJDKLog.java:180)- Initializing ProtocolHandler ["http-nio-8089"]
2019-07-08 17:14:07,571 INFO (DirectJDKLog.java:180)- Starting service [Tomcat]
2019-07-08 17:14:07,637 INFO (DirectJDKLog.java:180)- Starting Servlet Engine: Apache Tomcat/8.5.31
2019-07-08 17:14:07,685 INFO (DirectJDKLog.java:180)- The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [D:\Java\jdk1.8.0_161\bin;C:\WINDOWS\Sun\Java\bin;C:\WINDOWS\system32;C:\WINDOWS;C:/Program Files/Java/jre1.8.0_181/bin/server;C:/Program Files/Java/jre1.8.0_181/bin;C:/Program Files/Java/jre1.8.0_181/lib/amd64;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Python27\;C:\Python27\Scripts;C:\ProgramData\Boxstarter;C:\ProgramData\Oracle\Java\javapath;C:\Program Files (x86)\Intel\iCLS Client\;C:\Program Files\Intel\iCLS Client\;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files (x86)\Intel\Intel(R) Management Engine Components\DAL;C:\Program Files\Intel\Intel(R) Management Engine Components\DAL;C:\Program Files (x86)\Intel\Intel(R) Management Engine Components\IPT;C:\Program Files\Intel\Intel(R) Management Engine Components\IPT;D:\Java\jdk1.8.0_161\bin;D:\Java\jdk1.8.0_161\jre\bin;D:\Java\apache-maven-3.5.3\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\WINDOWS\System32\OpenSSH\;C:\Python27;C:\Python27\Scripts;C:\ProgramData\chocolatey\bin;C:\Program Files\nodejs\node_global\;C:\Program Files (x86)\HP\Unified Functional Testing\bin;C:\Program Files\nodejs\;C:\Users\bailun\AppData\Local\Microsoft\WindowsApps;C:\Users\bailun\AppData\Roaming\npm;D:\workapp\eclipse;;.]
2019-07-08 17:14:08,247 INFO (DirectJDKLog.java:180)- Initializing Spring embedded WebApplicationContext
2019-07-08 17:14:23,674 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8089"]
2019-07-08 17:14:24,030 INFO (DirectJDKLog.java:180)- Using a shared selector for servlet write/read
2019-07-08 17:14:26,591 INFO (DirectJDKLog.java:180)- Starting ProtocolHandler ["http-nio-8089"]
2019-07-08 17:14:26,608 ERROR (DirectJDKLog.java:182)- Failed to start connector [Connector[HTTP/1.1-8089]]
org.apache.catalina.LifecycleException: Failed to start component [Connector[HTTP/1.1-8089]]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)
	at org.apache.catalina.core.StandardService.addConnector(StandardService.java:225)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:256)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:198)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.startWebServer(ServletWebServerApplicationContext.java:300)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.finishRefresh(ServletWebServerApplicationContext.java:162)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:553)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:395)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:327)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1255)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1243)
	at com.gogirl.gogirl_user.GogirlUserApplication.main(GogirlUserApplication.java:16)
Caused by: org.apache.catalina.LifecycleException: Protocol handler start failed
	at org.apache.catalina.connector.Connector.startInternal(Connector.java:1020)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	... 13 common frames omitted
Caused by: java.net.BindException: Address already in use: bind
	at sun.nio.ch.Net.bind0(Native Method)
	at sun.nio.ch.Net.bind(Net.java:433)
	at sun.nio.ch.Net.bind(Net.java:425)
	at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:223)
	at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:74)
	at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:210)
	at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1150)
	at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:591)
	at org.apache.catalina.connector.Connector.startInternal(Connector.java:1018)
	... 14 common frames omitted
2019-07-08 17:14:27,266 INFO (DirectJDKLog.java:180)- Pausing ProtocolHandler ["http-nio-8089"]
2019-07-08 17:14:27,267 INFO (DirectJDKLog.java:180)- Stopping service [Tomcat]
2019-07-08 17:14:27,350 INFO (DirectJDKLog.java:180)- The stop() method was called on component [StandardServer[-1]] after stop() had already been called. The second call will be ignored.
2019-07-08 17:14:27,351 INFO (DirectJDKLog.java:180)- Stopping ProtocolHandler ["http-nio-8089"]
2019-07-08 17:14:27,351 INFO (DirectJDKLog.java:180)- Destroying ProtocolHandler ["http-nio-8089"]
2019-07-08 17:14:48,472 INFO (DirectJDKLog.java:180)- Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-07-08 17:14:48,581 INFO (CustomerCotroller.java:367)- 获取用户信息openid:o7112v-gTwp2OnTun_iBfiRz9_do
2019-07-08 17:14:48,783 INFO (HikariDataSource.java:110)- HikariPool-1 - Starting...
2019-07-08 17:14:49,361 INFO (HikariDataSource.java:123)- HikariPool-1 - Start completed.
2019-07-08 17:14:49,377 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select id, openid, phone, nickname, password, sex, country, province, city, headimgurl,customer_source, privilege, state, register_time, update_time, real_name, birthday, register_department, source, scheduled_times,order_times, store_record_real_name, remark,remark2,remark3,remark4,responsible_person,data_integrity from customer where openid = ? 
2019-07-08 17:14:49,409 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: o7112v-gTwp2OnTun_iBfiRz9_do(String)
2019-07-08 17:14:49,434 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 0
2019-07-08 17:15:12,584 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: insert into customer (id, openid, phone, nickname, password, sex, country, province, city, headimgurl, privilege, state, register_time, update_time, real_name, birthday, register_department, source, scheduled_times,order_times, store_record_real_name, remark,remark2,remark3,remark4) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,?,?, ?,?,?,?) 
2019-07-08 17:15:12,590 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: null, o7112v-gTwp2OnTun_iBfiRz9_do(String), null, 辉.(String), null, 男(String), 中国(String), 广东(String), 湛江(String), http://thirdwx.qlogo.cn/mmopen/vi_32/cRC2CDbeMPIXJ7ZT5huA6xfzYlj5BQ3DRX8CYLwHaob5VAwyhjl4sS8kqTMIVjK079NknOPR1L6xsSNcXwG9wA/132(String), [](String), 1(String), 2019-07-08 17:14:49.822(Timestamp), 2019-07-08 17:14:49.822(Timestamp), null, null, null, 3(Integer), 0(Integer), 0(Integer), null, null, null, null, null
2019-07-08 17:15:12,613 DEBUG (BaseJdbcLogger.java:159)- <==    Updates: 1
2019-07-08 17:15:12,614 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT @@IDENTITY AS id 
2019-07-08 17:15:12,616 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 
2019-07-08 17:15:12,626 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 17:15:13,023 INFO (CustomerCotroller.java:345)- 获取用户信息id:1802
2019-07-08 17:15:13,024 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select c.id, c.openid, c.phone, c. nickname, c. password, c. sex, c. country, c. province, c. city, c. headimgurl,c.customer_source, c. privilege, c. state, c. register_time, c. update_time, c. real_name, c. birthday, c. register_department, c. source, c. scheduled_times, c.order_times, c. store_record_real_name, c. remark, c.remark2, c.remark3, c.remark4,responsible_person,data_integrity, w.customer_id as wcustomer_id,w.id as wid, w.screen_name, w.name as wname, w.province as wprovince, w.city as wcity, w.location, w.description, w.url, w.profileImage_url, w.user_domain, w.gender, w.followers_count, w.friends_count, w.statuses_count, w.favourites_count, w.created_at, w.following, w.verified, w.verified_type, w.allow_all_act_asg, w.allow_all_comment, w.follow_me, w.avatar_large, w.online_status, w.bi_followers_count, w.remark, w.lang, w.verified_reason, w.weihao, w.status_id from customer c left join customer_weibo w on c.id=w.customer_id where c.id = ? 
2019-07-08 17:15:13,025 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1802(Integer)
2019-07-08 17:15:13,044 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 17:26:26,087 INFO (CustomerCotroller.java:465)- 获取用户信息，查询条件:Customer [id=null, openid=null, phone=null, nickname=null, password=null, sex=null, country=null, province=null, city=null, headimgurl=null, privilege=null, state=null, registerTime=null, updateTime=null, realName=null, birthday=null, registerDepartment=null, storeRecordRealName=null, remark=null, remark2=null, remark3=null, source=null, scheduledTimes=null, orderTimes=null, storeManage=null, customerBalance=null, customerDetail=null]
2019-07-08 17:26:31,359 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@25fcaf9a (No operations allowed after connection closed.)
2019-07-08 17:26:36,361 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@77526bd5 (No operations allowed after connection closed.)
2019-07-08 17:26:40,871 INFO (CustomerCotroller.java:496)- 获取用户信息，查询条件:Customer [id=null, openid=null, phone=null, nickname=null, password=null, sex=null, country=null, province=null, city=null, headimgurl=null, privilege=null, state=null, registerTime=null, updateTime=null, realName=null, birthday=null, registerDepartment=null, storeRecordRealName=null, remark=null, remark2=null, remark3=null, source=null, scheduledTimes=0, orderTimes=0, storeManage=null, customerBalance=null, customerDetail=null]
2019-07-08 17:26:41,365 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@37928ada (No operations allowed after connection closed.)
2019-07-08 17:26:45,973 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@77a0a6fa (No operations allowed after connection closed.)
2019-07-08 17:26:46,383 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@6a5a32a2 (No operations allowed after connection closed.)
2019-07-08 17:26:50,975 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@320a7e8d (No operations allowed after connection closed.)
2019-07-08 17:26:51,388 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@e32e0ff (No operations allowed after connection closed.)
2019-07-08 17:26:55,978 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@4c67df8 (No operations allowed after connection closed.)
2019-07-08 17:26:56,396 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@2dd56fb9 (No operations allowed after connection closed.)
2019-07-08 17:26:56,418 ERROR (DirectJDKLog.java:182)- Servlet.service() for servlet [dispatcherServlet] in context with path [/gogirl_user] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30075ms.
### The error may exist in file [E:\Workspaces\gogirl_user\target\classes\mapper\CustomerMapper.xml]
### The error may involve com.gogirl.gogirl_user.dao.CustomerMapper.selectByCustomerCard_COUNT
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30075ms.] with root cause
com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: No operations allowed after connection closed.
	at sun.reflect.GeneratedConstructorAccessor54.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:919)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:898)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:887)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:861)
	at com.mysql.jdbc.ConnectionImpl.throwConnectionClosedException(ConnectionImpl.java:1184)
	at com.mysql.jdbc.ConnectionImpl.checkClosed(ConnectionImpl.java:1179)
	at com.mysql.jdbc.ConnectionImpl.setNetworkTimeout(ConnectionImpl.java:5483)
	at com.zaxxer.hikari.pool.PoolBase.setNetworkTimeout(PoolBase.java:541)
	at com.zaxxer.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:162)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:172)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:148)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:151)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:115)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:78)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:68)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:336)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:84)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.executeAutoCount(PageInterceptor.java:201)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:113)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at com.sun.proxy.$Proxy99.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:148)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:141)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:433)
	at com.sun.proxy.$Proxy65.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:230)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:137)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:75)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:59)
	at com.sun.proxy.$Proxy66.selectByCustomerCard(Unknown Source)
	at com.gogirl.gogirl_user.service.CustomerService.selectByCustomerCard(CustomerService.java:210)
	at com.gogirl.gogirl_user.controller.CustomerCotroller.selectByCustomerCard(CustomerCotroller.java:467)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:866)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-07-08 17:27:00,980 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@5fcd572c (No operations allowed after connection closed.)
2019-07-08 17:27:00,999 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: SELECT count(0) FROM (SELECT c.id, c.openid, c.phone, c.nickname, c.password, c.sex, c.country, c.province, c.city, c.headimgurl, c.privilege, c.state, c.register_time, c.update_time, c.real_name, c.birthday, c.register_department, c.customer_source, c.source, IFNULL(sm.scheduled_count, 0) scheduled_times, IFNULL(om.order_count, 0) order_times, c.store_record_real_name, c.remark, c.remark2, c.remark3, c.remark4, su.`name` AS responsible_person, data_integrity, s.id AS sid, s.store_no, s.logo, s.name, s.longitude, s.latitude, s.address, s.master, s.employee_number, s.customer_service_telphone, s.contact_name, s.contact_telphone, s.business_day, s.business_start_time, s.business_end_time, s.remark AS sremark, s.create_time, b.customer_id, b.balance, b.current_discount, b.first_charge_time, b.update_time AS bupdate_time, b.total_charge, b.total_bestow, b.total_expenditure, b.version, b.level, d.customer_id AS dcustomer_id, d.wechat_id, d.referee, d.first_serve_time, d.age, d.birthday AS dbirthday, d.marital_status, d.have_children, d.hobby, d.colour_of_skin, d.type_of_nail_bed, d.nail_type, d.nail_hardness, d.residence, d.work_address, d.occupation, d.frequency_of_nail, d.key_points_of_salon, d.like_style, d.customer_concerns, d.solution, d.eyelash_condition, d.eye_shape, d.questionnaire_img_url FROM customer c LEFT JOIN store_manage s ON c.register_department = s.id LEFT JOIN customer_balance b ON c.id = b.customer_id LEFT JOIN customer_detail d ON c.id = d.customer_id LEFT JOIN store_user su ON su.id = c.responsible_person LEFT JOIN (SELECT order_user, count(order_user) order_count FROM order_manage WHERE department_id = ? GROUP BY order_user) om ON c.id = om.order_user LEFT JOIN (SELECT scheduled_user, count(scheduled_user) scheduled_count FROM scheduled_manage WHERE department_id = ? GROUP BY scheduled_user) sm ON c.id = sm.scheduled_user WHERE c.id IN (SELECT customer_id FROM customer_department_relevance re WHERE re.department_id = ?) AND order_times >= ? AND scheduled_times >= ?) table_count 
2019-07-08 17:27:01,001 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 17(Integer), 17(Integer), 17(Integer), 0(Integer), 0(Integer)
2019-07-08 17:27:01,017 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 17:27:01,021 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select c.id, c.openid, c.phone, c.nickname, c.password, c.sex, c.country, c.province, c.city, c.headimgurl, c.privilege, c.state, c.register_time, c.update_time, c.real_name, c.birthday, c.register_department,c.customer_source, c.source, IFNULL(sm.scheduled_count,0) scheduled_times,IFNULL(om.order_count,0) order_times, c.store_record_real_name, c.remark, c.remark2,c.remark3,c.remark4,su.`name` as responsible_person,data_integrity, s.id as sid, s.store_no, s.logo, s.name, s.longitude, s.latitude, s.address, s.master, s.employee_number, s. customer_service_telphone, s.contact_name, s.contact_telphone, s.business_day, s.business_start_time, s. business_end_time, s.remark as sremark, s.create_time, b.customer_id,b.balance,b.current_discount,b.first_charge_time,b.update_time as bupdate_time,b.total_charge, b.total_bestow,b.total_expenditure,b.version,b.level, d.customer_id as dcustomer_id, d.wechat_id, d.referee, d.first_serve_time, d.age, d.birthday as dbirthday, d.marital_status, d.have_children, d.hobby, d.colour_of_skin, d.type_of_nail_bed, d.nail_type, d.nail_hardness, d.residence, d.work_address, d.occupation, d.frequency_of_nail, d.key_points_of_salon, d.like_style, d.customer_concerns, d.solution, d.eyelash_condition, d.eye_shape, d.questionnaire_img_url from customer c left join store_manage s on c.register_department=s.id left join customer_balance b on c.id=b.customer_id left join customer_detail d on c.id=d.customer_id left join store_user su on su.id = c.responsible_person LEFT JOIN (select order_user,count(order_user) order_count from order_manage where department_id=? GROUP BY order_user ) om on c.id = om.order_user LEFT JOIN (select scheduled_user,count(scheduled_user) scheduled_count from scheduled_manage where department_id=? GROUP BY scheduled_user ) sm on c.id = sm.scheduled_user WHERE c.id in (select customer_id from customer_department_relevance re where re.department_id=?) and order_times>= ? and scheduled_times>= ? order by register_time desc LIMIT ? 
2019-07-08 17:27:01,024 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 17(Integer), 17(Integer), 17(Integer), 0(Integer), 0(Integer), 10(Integer)
2019-07-08 17:27:01,089 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 10
2019-07-08 17:33:10,422 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@33cdd002 (No operations allowed after connection closed.)
2019-07-08 17:33:11,548 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@5e92128d (No operations allowed after connection closed.)
2019-07-08 17:33:15,426 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@72f0da39 (No operations allowed after connection closed.)
2019-07-08 17:33:16,551 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@5055e72f (No operations allowed after connection closed.)
2019-07-08 17:33:20,428 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@1ed8b115 (No operations allowed after connection closed.)
2019-07-08 17:33:21,555 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@5fa083ce (No operations allowed after connection closed.)
2019-07-08 17:33:25,430 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@43c82f0c (No operations allowed after connection closed.)
2019-07-08 17:33:26,557 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@20b37b8a (No operations allowed after connection closed.)
2019-07-08 17:33:28,825 INFO (CustomerCotroller.java:303)- 修改用户信息：Customer [id=1736, openid=null, phone=null, nickname=null, password=null, sex=null, country=null, province=null, city=null, headimgurl=null, privilege=null, state=null, registerTime=null, updateTime=null, realName=null, birthday=null, registerDepartment=null, storeRecordRealName=null, remark=null, remark2=null, remark3=null, source=null, scheduledTimes=null, orderTimes=null, storeManage=null, customerBalance=null, customerDetail=null]
2019-07-08 17:33:28,826 INFO (CustomerService.java:89)- 更新用户信息record:Customer [id=1736, openid=null, phone=null, nickname=null, password=null, sex=null, country=null, province=null, city=null, headimgurl=null, privilege=null, state=null, registerTime=null, updateTime=null, realName=null, birthday=null, registerDepartment=null, storeRecordRealName=null, remark=null, remark2=null, remark3=null, source=null, scheduledTimes=null, orderTimes=null, storeManage=null, customerBalance=null, customerDetail=null]
2019-07-08 17:33:28,836 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select customer_id, wechat_id, referee, first_serve_time, age, birthday, marital_status, have_children, hobby, colour_of_skin, type_of_nail_bed, nail_type, nail_hardness, residence, work_address, occupation, frequency_of_nail, key_points_of_salon, like_style, customer_concerns, solution, eyelash_condition, eye_shape, questionnaire_img_url,learn_about_us from customer_detail where customer_id = ? 
2019-07-08 17:33:28,837 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1736(Integer)
2019-07-08 17:33:28,850 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 0
2019-07-08 17:33:28,857 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: update customer SET update_time = ?, customer_source = ?, data_integrity=? where id = ? 
2019-07-08 17:33:28,858 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 2019-07-08 17:33:28.826(Timestamp), 1(Integer), 0.1(Double), 1736(Integer)
2019-07-08 17:33:28,883 DEBUG (BaseJdbcLogger.java:159)- <==    Updates: 1
2019-07-08 17:33:30,433 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@660a1a9c (No operations allowed after connection closed.)
2019-07-08 17:33:30,445 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select total_price,change_price,discount_price from order_manage WHERE department_id = ? 
2019-07-08 17:33:30,445 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 17(Integer)
2019-07-08 17:33:30,458 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 8
2019-07-08 17:33:31,560 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@27914bf0 (No operations allowed after connection closed.)
2019-07-08 17:33:31,572 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select count(0) from customer WHERE (data_integrity is null or 0.8>data_integrity) and id in (select distinct order_user from order_manage where finish_time>'2019-05-27' and department_id = ? ) 
2019-07-08 17:33:31,573 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 17(Integer)
2019-07-08 17:33:31,585 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 17:41:44,603 INFO (CustomerCotroller.java:518)- 获取用户信息，查询条件:Customer [id=null, openid=null, phone=1660, nickname=null, password=null, sex=null, country=null, province=null, city=null, headimgurl=null, privilege=null, state=null, registerTime=null, updateTime=null, realName=null, birthday=null, registerDepartment=null, storeRecordRealName=null, remark=null, remark2=null, remark3=null, source=null, scheduledTimes=null, orderTimes=null, storeManage=null, customerBalance=null, customerDetail=null]
2019-07-08 17:41:48,223 INFO (CustomerCotroller.java:518)- 获取用户信息，查询条件:Customer [id=null, openid=null, phone=16602, nickname=null, password=null, sex=null, country=null, province=null, city=null, headimgurl=null, privilege=null, state=null, registerTime=null, updateTime=null, realName=null, birthday=null, registerDepartment=null, storeRecordRealName=null, remark=null, remark2=null, remark3=null, source=null, scheduledTimes=null, orderTimes=null, storeManage=null, customerBalance=null, customerDetail=null]
2019-07-08 17:41:49,609 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@2858bcf1 (No operations allowed after connection closed.)
2019-07-08 17:41:53,225 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@5d0cd9ae (No operations allowed after connection closed.)
2019-07-08 17:41:54,612 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@22a0d781 (No operations allowed after connection closed.)
2019-07-08 17:41:57,650 INFO (CustomerCotroller.java:518)- 获取用户信息，查询条件:Customer [id=null, openid=null, phone=166020, nickname=null, password=null, sex=null, country=null, province=null, city=null, headimgurl=null, privilege=null, state=null, registerTime=null, updateTime=null, realName=null, birthday=null, registerDepartment=null, storeRecordRealName=null, remark=null, remark2=null, remark3=null, source=null, scheduledTimes=null, orderTimes=null, storeManage=null, customerBalance=null, customerDetail=null]
2019-07-08 17:41:58,227 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@d825fab (No operations allowed after connection closed.)
2019-07-08 17:41:58,292 INFO (CustomerCotroller.java:518)- 获取用户信息，查询条件:Customer [id=null, openid=null, phone=1660206, nickname=null, password=null, sex=null, country=null, province=null, city=null, headimgurl=null, privilege=null, state=null, registerTime=null, updateTime=null, realName=null, birthday=null, registerDepartment=null, storeRecordRealName=null, remark=null, remark2=null, remark3=null, source=null, scheduledTimes=null, orderTimes=null, storeManage=null, customerBalance=null, customerDetail=null]
2019-07-08 17:41:59,448 INFO (CustomerCotroller.java:518)- 获取用户信息，查询条件:Customer [id=null, openid=null, phone=1660206372, nickname=null, password=null, sex=null, country=null, province=null, city=null, headimgurl=null, privilege=null, state=null, registerTime=null, updateTime=null, realName=null, birthday=null, registerDepartment=null, storeRecordRealName=null, remark=null, remark2=null, remark3=null, source=null, scheduledTimes=null, orderTimes=null, storeManage=null, customerBalance=null, customerDetail=null]
2019-07-08 17:41:59,614 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@67a24db1 (No operations allowed after connection closed.)
2019-07-08 17:42:00,235 INFO (CustomerCotroller.java:518)- 获取用户信息，查询条件:Customer [id=null, openid=null, phone=1660206371, nickname=null, password=null, sex=null, country=null, province=null, city=null, headimgurl=null, privilege=null, state=null, registerTime=null, updateTime=null, realName=null, birthday=null, registerDepartment=null, storeRecordRealName=null, remark=null, remark2=null, remark3=null, source=null, scheduledTimes=null, orderTimes=null, storeManage=null, customerBalance=null, customerDetail=null]
2019-07-08 17:42:00,249 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select id, openid, phone, nickname, password, sex, country, province, city, headimgurl,customer_source, privilege, state, register_time, update_time, real_name, birthday, register_department, source, scheduled_times,order_times, store_record_real_name, remark,remark2,remark3,remark4,responsible_person,data_integrity from customer where phone is not null and phone != '' and phone like CONCAT('%',?,'%') 
2019-07-08 17:42:00,249 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1660206371(String)
2019-07-08 17:42:00,268 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 17:42:00,608 INFO (CustomerCotroller.java:518)- 获取用户信息，查询条件:Customer [id=null, openid=null, phone=16602063716, nickname=null, password=null, sex=null, country=null, province=null, city=null, headimgurl=null, privilege=null, state=null, registerTime=null, updateTime=null, realName=null, birthday=null, registerDepartment=null, storeRecordRealName=null, remark=null, remark2=null, remark3=null, source=null, scheduledTimes=null, orderTimes=null, storeManage=null, customerBalance=null, customerDetail=null]
2019-07-08 17:42:00,609 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select id, openid, phone, nickname, password, sex, country, province, city, headimgurl,customer_source, privilege, state, register_time, update_time, real_name, birthday, register_department, source, scheduled_times,order_times, store_record_real_name, remark,remark2,remark3,remark4,responsible_person,data_integrity from customer where phone is not null and phone != '' and phone like CONCAT('%',?,'%') 
2019-07-08 17:42:00,610 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 16602063716(String)
2019-07-08 17:42:00,626 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 17:42:02,653 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@658f8b97 (No operations allowed after connection closed.)
2019-07-08 17:42:02,663 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select id, openid, phone, nickname, password, sex, country, province, city, headimgurl,customer_source, privilege, state, register_time, update_time, real_name, birthday, register_department, source, scheduled_times,order_times, store_record_real_name, remark,remark2,remark3,remark4,responsible_person,data_integrity from customer where phone is not null and phone != '' and phone like CONCAT('%',?,'%') 
2019-07-08 17:42:02,664 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 166020(String)
2019-07-08 17:42:02,680 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 17:42:03,229 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@15438226 (No operations allowed after connection closed.)
2019-07-08 17:42:03,240 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select id, openid, phone, nickname, password, sex, country, province, city, headimgurl,customer_source, privilege, state, register_time, update_time, real_name, birthday, register_department, source, scheduled_times,order_times, store_record_real_name, remark,remark2,remark3,remark4,responsible_person,data_integrity from customer where phone is not null and phone != '' and phone like CONCAT('%',?,'%') 
2019-07-08 17:42:03,241 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 16602(String)
2019-07-08 17:42:03,262 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 17:42:03,284 INFO (CustomerCotroller.java:518)- 获取用户信息，查询条件:Customer [id=null, openid=null, phone=16602, nickname=null, password=null, sex=null, country=null, province=null, city=null, headimgurl=null, privilege=null, state=null, registerTime=null, updateTime=null, realName=null, birthday=null, registerDepartment=null, storeRecordRealName=null, remark=null, remark2=null, remark3=null, source=null, scheduledTimes=null, orderTimes=null, storeManage=null, customerBalance=null, customerDetail=null]
2019-07-08 17:42:03,286 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select id, openid, phone, nickname, password, sex, country, province, city, headimgurl,customer_source, privilege, state, register_time, update_time, real_name, birthday, register_department, source, scheduled_times,order_times, store_record_real_name, remark,remark2,remark3,remark4,responsible_person,data_integrity from customer where phone is not null and phone != '' and phone like CONCAT('%',?,'%') 
2019-07-08 17:42:03,287 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 16602(String)
2019-07-08 17:42:03,297 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@77b2c899 (No operations allowed after connection closed.)
2019-07-08 17:42:03,304 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 17:42:03,306 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select id, openid, phone, nickname, password, sex, country, province, city, headimgurl,customer_source, privilege, state, register_time, update_time, real_name, birthday, register_department, source, scheduled_times,order_times, store_record_real_name, remark,remark2,remark3,remark4,responsible_person,data_integrity from customer where phone is not null and phone != '' and phone like CONCAT('%',?,'%') 
2019-07-08 17:42:03,310 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1660206(String)
2019-07-08 17:42:03,326 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 2
2019-07-08 17:42:04,451 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@b40d488 (No operations allowed after connection closed.)
2019-07-08 17:42:04,461 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select id, openid, phone, nickname, password, sex, country, province, city, headimgurl,customer_source, privilege, state, register_time, update_time, real_name, birthday, register_department, source, scheduled_times,order_times, store_record_real_name, remark,remark2,remark3,remark4,responsible_person,data_integrity from customer where phone is not null and phone != '' and phone like CONCAT('%',?,'%') 
2019-07-08 17:42:04,463 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1660206372(String)
2019-07-08 17:42:04,479 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 0
2019-07-08 17:42:04,618 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@af0da80 (No operations allowed after connection closed.)
2019-07-08 17:42:04,619 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select id, openid, phone, nickname, password, sex, country, province, city, headimgurl,customer_source, privilege, state, register_time, update_time, real_name, birthday, register_department, source, scheduled_times,order_times, store_record_real_name, remark,remark2,remark3,remark4,responsible_person,data_integrity from customer where phone is not null and phone != '' and phone like CONCAT('%',?,'%') 
2019-07-08 17:42:04,620 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: 1660(String)
2019-07-08 17:42:04,646 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 3
2019-07-08 17:57:49,723 INFO (CustomerCotroller.java:367)- 获取用户信息openid:o7112v0qdTRxqTk7ABNIhAjYSEEU
2019-07-08 17:57:54,732 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@43f5abe7 (No operations allowed after connection closed.)
2019-07-08 17:57:59,734 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@525fae (No operations allowed after connection closed.)
2019-07-08 17:58:02,196 INFO (CustomerCotroller.java:367)- 获取用户信息openid:o7112v0qdTRxqTk7ABNIhAjYSEEU
2019-07-08 17:58:04,737 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@247a5af5 (No operations allowed after connection closed.)
2019-07-08 17:58:05,404 INFO (CustomerCotroller.java:367)- 获取用户信息openid:o7112v0qdTRxqTk7ABNIhAjYSEEU
2019-07-08 17:58:07,202 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@5d0837e7 (No operations allowed after connection closed.)
2019-07-08 17:58:07,778 INFO (CustomerCotroller.java:367)- 获取用户信息openid:o7112v0qdTRxqTk7ABNIhAjYSEEU
2019-07-08 17:58:09,740 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@4abe670e (No operations allowed after connection closed.)
2019-07-08 17:58:09,806 INFO (CustomerCotroller.java:367)- 获取用户信息openid:o7112v0qdTRxqTk7ABNIhAjYSEEU
2019-07-08 17:58:10,422 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@60fbb589 (No operations allowed after connection closed.)
2019-07-08 17:58:10,447 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select id, openid, phone, nickname, password, sex, country, province, city, headimgurl,customer_source, privilege, state, register_time, update_time, real_name, birthday, register_department, source, scheduled_times,order_times, store_record_real_name, remark,remark2,remark3,remark4,responsible_person,data_integrity from customer where openid = ? 
2019-07-08 17:58:10,448 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: o7112v0qdTRxqTk7ABNIhAjYSEEU(String)
2019-07-08 17:58:10,465 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 17:58:12,205 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@3792f90f (No operations allowed after connection closed.)
2019-07-08 17:58:12,218 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select id, openid, phone, nickname, password, sex, country, province, city, headimgurl,customer_source, privilege, state, register_time, update_time, real_name, birthday, register_department, source, scheduled_times,order_times, store_record_real_name, remark,remark2,remark3,remark4,responsible_person,data_integrity from customer where openid = ? 
2019-07-08 17:58:12,220 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: o7112v0qdTRxqTk7ABNIhAjYSEEU(String)
2019-07-08 17:58:12,238 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 17:58:12,783 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@6b2c94b6 (No operations allowed after connection closed.)
2019-07-08 17:58:12,799 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select id, openid, phone, nickname, password, sex, country, province, city, headimgurl,customer_source, privilege, state, register_time, update_time, real_name, birthday, register_department, source, scheduled_times,order_times, store_record_real_name, remark,remark2,remark3,remark4,responsible_person,data_integrity from customer where openid = ? 
2019-07-08 17:58:12,801 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: o7112v0qdTRxqTk7ABNIhAjYSEEU(String)
2019-07-08 17:58:12,820 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 17:58:14,505 INFO (CustomerCotroller.java:367)- 获取用户信息openid:o7112v0qdTRxqTk7ABNIhAjYSEEU
2019-07-08 17:58:14,517 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select id, openid, phone, nickname, password, sex, country, province, city, headimgurl,customer_source, privilege, state, register_time, update_time, real_name, birthday, register_department, source, scheduled_times,order_times, store_record_real_name, remark,remark2,remark3,remark4,responsible_person,data_integrity from customer where openid = ? 
2019-07-08 17:58:14,519 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: o7112v0qdTRxqTk7ABNIhAjYSEEU(String)
2019-07-08 17:58:14,536 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 17:58:14,713 INFO (CustomerCotroller.java:303)- 修改用户信息：Customer [id=1738, openid=o7112v0qdTRxqTk7ABNIhAjYSEEU, phone=null, nickname=Christy, password=null, sex=女, country=奥地利, province=克恩顿, city=, headimgurl=http://thirdwx.qlogo.cn/mmopen/vi_32/agMlkibzDxzGhsbdKC0pJVEc7A8FJ1kAzAAuSwJx2ibXWsu9jeCN9843wAZBTj2UDGLDs84QIQfuaIgVrdvgBWjg/132, privilege=[], state=null, registerTime=null, updateTime=Tue Jul 09 07:58:14 CST 2019, realName=null, birthday=null, registerDepartment=null, storeRecordRealName=null, remark=null, remark2=null, remark3=null, source=3, scheduledTimes=null, orderTimes=null, storeManage=null, customerBalance=null, customerDetail=null]
2019-07-08 17:58:14,714 INFO (CustomerService.java:89)- 更新用户信息record:Customer [id=1738, openid=o7112v0qdTRxqTk7ABNIhAjYSEEU, phone=null, nickname=Christy, password=null, sex=女, country=奥地利, province=克恩顿, city=, headimgurl=http://thirdwx.qlogo.cn/mmopen/vi_32/agMlkibzDxzGhsbdKC0pJVEc7A8FJ1kAzAAuSwJx2ibXWsu9jeCN9843wAZBTj2UDGLDs84QIQfuaIgVrdvgBWjg/132, privilege=[], state=null, registerTime=null, updateTime=Tue Jul 09 07:58:14 CST 2019, realName=null, birthday=null, registerDepartment=null, storeRecordRealName=null, remark=null, remark2=null, remark3=null, source=3, scheduledTimes=null, orderTimes=null, storeManage=null, customerBalance=null, customerDetail=null]
2019-07-08 17:58:14,716 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: update customer SET openid = ?, nickname = ?, sex = ?, country = ?, province = ?, city = ?, headimgurl = ?, privilege = ?, update_time = ?, source = ? where id = ? 
2019-07-08 17:58:14,718 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: o7112v0qdTRxqTk7ABNIhAjYSEEU(String), Christy(String), 女(String), 奥地利(String), 克恩顿(String), (String), http://thirdwx.qlogo.cn/mmopen/vi_32/agMlkibzDxzGhsbdKC0pJVEc7A8FJ1kAzAAuSwJx2ibXWsu9jeCN9843wAZBTj2UDGLDs84QIQfuaIgVrdvgBWjg/132(String), [](String), 2019-07-09 07:58:14.0(Timestamp), 3(Integer), 1738(Integer)
2019-07-08 17:58:14,743 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@3f5c597e (No operations allowed after connection closed.)
2019-07-08 17:58:14,752 DEBUG (BaseJdbcLogger.java:159)- <==    Updates: 1
2019-07-08 17:58:14,754 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select id, openid, phone, nickname, password, sex, country, province, city, headimgurl,customer_source, privilege, state, register_time, update_time, real_name, birthday, register_department, source, scheduled_times,order_times, store_record_real_name, remark,remark2,remark3,remark4,responsible_person,data_integrity from customer where openid = ? 
2019-07-08 17:58:14,755 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: o7112v0qdTRxqTk7ABNIhAjYSEEU(String)
2019-07-08 17:58:14,772 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 17:58:14,809 WARN (PoolBase.java:173)- HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@4afbe2c6 (No operations allowed after connection closed.)
2019-07-08 17:58:14,809 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select id, openid, phone, nickname, password, sex, country, province, city, headimgurl,customer_source, privilege, state, register_time, update_time, real_name, birthday, register_department, source, scheduled_times,order_times, store_record_real_name, remark,remark2,remark3,remark4,responsible_person,data_integrity from customer where openid = ? 
2019-07-08 17:58:14,810 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: o7112v0qdTRxqTk7ABNIhAjYSEEU(String)
2019-07-08 17:58:14,829 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
2019-07-08 17:58:22,916 INFO (CustomerCotroller.java:367)- 获取用户信息openid:o7112v0qdTRxqTk7ABNIhAjYSEEU
2019-07-08 17:58:22,929 DEBUG (BaseJdbcLogger.java:159)- ==>  Preparing: select id, openid, phone, nickname, password, sex, country, province, city, headimgurl,customer_source, privilege, state, register_time, update_time, real_name, birthday, register_department, source, scheduled_times,order_times, store_record_real_name, remark,remark2,remark3,remark4,responsible_person,data_integrity from customer where openid = ? 
2019-07-08 17:58:22,930 DEBUG (BaseJdbcLogger.java:159)- ==> Parameters: o7112v0qdTRxqTk7ABNIhAjYSEEU(String)
2019-07-08 17:58:22,946 DEBUG (BaseJdbcLogger.java:159)- <==      Total: 1
